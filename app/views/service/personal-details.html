{% extends "layout.html" %}

{% block pageTitle %}
  What are your personal details - Transfer an employee across the Civil Service - GOV.UK
{% endblock %}

{% block beforeContent %}
  {% include "includes/phase-banner.html" %}

  <a class="govuk-back-link" href="javascript:history.back()">Back</a>
{% endblock %}

{% block content %}

  <!-- DEVS: Ignore the HTML here, it's not correct, but it means the error validation works -->
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      <form action="/service/personal-details" method="post">

        {% if errorName == true or errorDob == true or errorEmail == true %}
          {{ govukErrorSummary({
                 titleText: "There is a problem",
                 errorList: errorList
               }) }}
        {% endif %}

        <h1 class="govuk-heading-l">
          Personal details
        </h1>

        {% if errorName == true %}

          {{ govukInput({
              label: {
                text: "Full name"
              },
              classes: "govuk-input--width-20",
              id: "full-name",
              name: "full-name",
              errorMessage: {
                text: "Enter your full name"
              }
            }) }}
        {% else %}
          {{ govukInput({
              label: {
                text: "Full name"
              },
              classes: "govuk-input--width-20",
              id: "full-name",
              name: "full-name"
            }) }}
        {% endif %}

        {% if errorDob == true %}

          {{ govukDateInput({
            id: "dob",
            namePrefix: "dob",
            fieldset: {
              legend: {
                text: "Date of birth",
                isPageHeading: false,
                classes: "govuk-fieldset__legend"
              }
            },
            hint: {
              text: "For example, 31 3 1980"
            },
            errorMessage: {
              text: "Date of birth must include a year"
            },
            items: [
   {
     classes: "govuk-input--width-2",
     name: "day"
   },
   {
     classes: "govuk-input--width-2",
     name: "month"
   },
   {
     classes: "govuk-input--width-4 govuk-input--error",
     name: "year"
   }
 ]
          }) }}
        {% else %}
          {{ govukDateInput({
     id: "dob",
     namePrefix: "dob",
     fieldset: {
       legend: {
         text: "Date of birth",
         isPageHeading: false,
         classes: "govuk-fieldset__legend"
       }
     },
     hint: {
       text: "For example, 31 3 1980"
     }
   }) }}
      {% endif %}

   {% if errorEmail == true %}

   {{ govukInput({
     label: {
       text: "Email address"
     },
     hint: {
       text: "We’ll use this to .."
     },
     id: "email",
     name: "email",
     type: "email",
     value: "Not an email address",
     autocomplete: "email",
     errorMessage: {
       text: "Enter an email address in the correct format, like name@example.com"
     },
     spellcheck: false
   }) }}
   {% else %}

   {{ govukInput({
     label: {
       text: "Email address"
     },
     hint: {
       text: "We’ll use this to ..."
     },
     id: "email",
     name: "email",
     type: "email",
     autocomplete: "email",
     spellcheck: false
   }) }}
   {% endif %}

        {{ govukButton({
           text: "Continue"
         }) }}
      </form>

    </div>
  </div>

{% endblock %}
